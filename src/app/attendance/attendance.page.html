<ion-header>
  <ion-toolbar
    ><ion-title>
      <ion-row>
        <ion-col size="6" style="margin-top: 0.6rem">Class Management</ion-col>
        <ion-col size-xs="2" size="5"></ion-col>
        <ion-col size-xs="4" size="1">
          <ion-button
            (click)="goToAdmin()"
            expand="block"
            fill="clear"
            shape="round"
            style="width: 100%"
          >
            Go back<ion-icon
              name="arrow-back-outline"
              (click)="goToAdmin()"
            ></ion-icon>
          </ion-button>
        </ion-col> </ion-row
    ></ion-title>
  </ion-toolbar>
</ion-header>

<ion-content>
  <ion-content class="ion-padding ion-text-center">
    <h1>Attendance</h1>
    <!-- <ion-input placeholder="Input class name" class="custom" type="text" [(ngModel)]=newClassName 
  style="width:20rem;height: 4rem; font-size: 1.5rem; margin:auto; margin-top: 2rem; margin-bottom: 1rem"></ion-input>
  <div  style="margin:auto; width: fit-content;"><ion-datetime #datetime displayFormat="MMM DD, YYYY HH:mm" locale="en-HK" (ionChange)="dateChange(datetime.value)"
    value="2022-04-21T00:00:00"
    min="2022-03-01T00:00:00"
  ></ion-datetime></div>
  <ion-input placeholder="Input class code" class="custom" type="text" [(ngModel)]=studentCode 
  style="width:20rem;height: 4rem; font-size: 1.5rem; margin:auto; margin-top: 2rem; margin-bottom: 1rem"></ion-input>
  


  <div style="width: fit-content; margin:auto; margin-bottom:2rem">
    <ion-button (click)="addClass()" shape="round" color="warning" style="margin:auto">
      Add Class
    </ion-button>
  </div>
  <div style="width: fit-content; margin:auto; margin-bottom:2rem">
    <ion-button (click)="addClassTime(newclassTime)" shape="round" color="warning" style="margin:auto">
      Add Class Time
    </ion-button>
  </div> -->
    <ion-list style="width: fit-content; margin: auto">
      <ion-item>
        <ion-select
          interface="popover"
          placeholder="Select Class"
          (ionChange)="loadClass($event)"
        >
          <ion-select-option
            *ngFor="let class of classes;let i = index"
            [value]="i"
            >{{class.className}}</ion-select-option
          >
        </ion-select>
      </ion-item>
    </ion-list>

    <ion-item-divider>
      <ion-label style="font-size: 3rem; font-weight: 600"
        >{{currentClassName}}</ion-label
      >
    </ion-item-divider>
    <!-- <ion-list style="width:80%; margin:auto">
    <ion-item *ngFor="let ct of classTime | keyvalue">
      {{ct.key}}
    </ion-item>
  </ion-list> -->

    <ion-list>
      <ion-select
        style="width: 80%; margin: auto"
        *ngFor="let ct of classTime | keyvalue"
        placeholder="{{ct.key}}"
        [multiple]="true"
        (ionChange)="handleChange($event, ct)"
        ><br />
        <ion-select-option [value]="cct" *ngFor="let cct of ct.value | keyvalue"
          >{{cct.key}}</ion-select-option
        > </ion-select
      ><br />
    </ion-list>

    <div style="width: 80%; margin: auto">
      <ion-accordion-group>
        <ion-accordion value="first">
          <ion-item slot="header" color="light">
            <ion-label>Add Class</ion-label>
          </ion-item>
          <div class="ion-padding" slot="content">
            <!--------------------- First class ------------------------>
            <ion-input
              placeholder="Input class name"
              class="custom"
              type="text"
              [(ngModel)]="newClassName"
              style="
                width: 20rem;
                height: 4rem;
                font-size: 1.5rem;
                margin: auto;
                margin-top: 2rem;
                margin-bottom: 1rem;
              "
            ></ion-input>
            <div style="margin: auto; width: fit-content">
              <ion-datetime
                #datetime
                displayFormat="MMM DD, YYYY HH:mm"
                locale="en-HK"
                (ionChange)="dateChange(datetime.value)"
                value="2022-04-21T00:00:00"
                min="2022-03-01T00:00:00"
              ></ion-datetime>
            </div>
            <ion-input
              placeholder="Input class code"
              class="custom"
              type="text"
              [(ngModel)]="newStudentCode"
              style="
                width: 20rem;
                height: 4rem;
                font-size: 1.5rem;
                margin: auto;
                margin-top: 2rem;
                margin-bottom: 1rem;
              "
            ></ion-input>

            <div style="width: fit-content; margin: auto; margin-bottom: 2rem">
              <ion-button
                (click)="addClass()"
                shape="round"
                color="warning"
                style="margin: auto"
              >
                Add Class
              </ion-button>
            </div>
          </div>
          <!--------------------- First class ------------------------>
        </ion-accordion>
        <ion-accordion value="second">
          <ion-item slot="header" color="light">
            <ion-label>Edit Class</ion-label>
          </ion-item>
          <div class="ion-padding" slot="content">
            <!--------------------- Second class ------------------------>
            <ion-list style="width: fit-content; margin: auto">
              <ion-item>
                <ion-select
                  interface="popover"
                  placeholder="Select Class"
                  (ionChange)="loadClass($event)"
                >
                  <ion-select-option
                    *ngFor="let class of classes;let i = index"
                    [value]="i"
                    >{{class.className}}</ion-select-option
                  >
                </ion-select>
              </ion-item>
            </ion-list>

            <div style="margin: auto; width: fit-content">
              <ion-datetime
                #datetime1
                displayFormat="MMM DD, YYYY HH:mm"
                locale="en-HK"
                (ionChange)="dateChange1(datetime1.value)"
                value="2022-04-21T00:00:00"
                min="2022-03-01T00:00:00"
              ></ion-datetime>
            </div>

            <div style="width: fit-content; margin: auto; margin-bottom: 2rem">
              <ion-button
                (click)="addClassTime()"
                shape="round"
                color="warning"
                style="margin: auto"
              >
                Set Class Time
              </ion-button>
            </div>

            <!--------------------- Second class ------------------------>
          </div>
        </ion-accordion>
        <!-- <ion-accordion value="third">
        <ion-item slot="header" color="light">
          <ion-label>Third Accordion</ion-label>
        </ion-item>
        <div class="ion-padding" slot="content">
          Third Content
        </div>
      </ion-accordion> -->
      </ion-accordion-group>
    </div>
  </ion-content>
</ion-content>
